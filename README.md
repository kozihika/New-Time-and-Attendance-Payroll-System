# 勤怠管理システム×ゲーミフィケーション  塾講師のための「おみくじが引ける」勤怠管理＆給与計算システム
![demo](https://github.com/kozihika/New-Time-and-Attendance-Payroll-System/blob/main/chrome-capture-2025-10-30.gif)

## 1. このプロジェクトについて (解決する課題)
▪️課題
◎塾長側：複雑な給与体系の給与を手計算している
給与のコマ給は、講師のグレード、担当学生の学年で変動する複雑な給与体系になっている。それを手計算をしている。

◎講師側
このシステムは、私が塾講師のアルバイトで感じた「単調な勤怠管理」という課題を、**「楽しさ」と「和風デザイン」**で解決するために企画・開発したWebアプリケーションです。

▪️コンセプト：面倒は、サボるか、楽しむか。
塾長の課題である複雑な給与計算は、データをデジタルで一元化し、自動化することで解決する。しかし、講師の打刻や報告といった手動での作業は完全に自動化できない。この手作業を講師が面倒（外的動機付け）に感じる問題を解決するため、作業を楽しい（内的動機付け）体験に変える。

* **[ ➡ 企画書はこちら（https://docs.google.com/document/d/1d5O1oNI6RR-Io8ADBhwNqnYIcbr-LmKtgZKbGS9c4lk/edit?usp=sharing） ]**

## 2. 主な機能 (Features)

* **講師側機能**
    * 出退勤、休憩、事務作業の打刻
    * 退勤時の授業報告（モーダル表示）
    * 【特徴】退勤時のおみくじ機能（SweetAlert2使用）
    * 【特徴】運勢ゲージ＆講師別ランキング
* **塾長（管理者）側機能**
    * 講師別・月別の給与データ自動計算
    * 控除額入力とPDF給与明細の出力
    * 【堅牢性】給与の「締め処理」機能

![demo](https://github.com/kozihika/New-Time-and-Attendance-Payroll-System/blob/main/chrome-capture-2025-10-31%20(1).gif)

## 3. 使用技術 (Technology)

* **フロントエンド**: HTML, CSS, JavaScript (ES6)
* **バックエンド**: Google Apps Script (code.gs)
* **データベース**: Googleスプレッドシート
* **ライブラリ**: SweetAlert2（おみくじ表示用）

## 4. データベース設計 (How)

このシステムは、以下のスプレッドシートの各シートをデータベースとして連携させています。

* **[ ➡ 実際のデータベース（スプレッドシート）のテンプレートはこちら (https://docs.google.com/spreadsheets/d/1opfnjIGGUJWHnkKqI4CK7tb0TQhpDsHCTkrq7JLmGa4/edit?usp=sharing)]**


## 5. 実装で工夫した点・学んだこと (My Learnings)

### ① 複雑な処理の分解と実装
当初、「退勤ボタン」の実装（モーダル表示 → 授業登録 → おみくじ表示） という複雑な処理に圧倒されました。
しかし、これを「モーダルを表示する部品」「データを記録する部品」「おみくじを表示する部品」と**基礎的な処理の組み合わせ**として分解・分析することで、一つずつ実装し、最終的に「指揮者」であるイベントハンドラーがそれらを正しく呼び出すことで、完成させることができました。

### ② 会計上の堅牢性の担保
「締め処理」の実装では、単に塾長が再計算できないようにするだけでなく、講師側が締め後に打刻できないように`isMonthClosed`関数 という「門番」を`recordAction` 等の全入口に設置することで、データの整合性を守る重要性を学びました。

## 6. 私のエンジニアリング哲学とキャリアプラン
